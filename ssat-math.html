<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SSAT Upper Level Practice — Quantitative (Math)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    html, body {
      font-family: "Segoe UI", Arial, sans-serif;
      background: #f7fafb; color: #222f42; margin: 0; padding: 0;
    }
    .container {
      max-width: 800px; margin: 2em auto; padding: 1.5em 1em;
      background: #fff; border-radius: 10px; box-shadow: 0 3px 12px rgba(0,0,0,0.10);
    }
    h1, h2 {
      text-align: center; color: #194d7c;
    }
    .instructions {
      background: #e6f2fc; border-left: 4px solid #72b1e2;
      padding: 1em; margin-bottom: 1.25em;
    }
    .question-block {
      margin-bottom: 2em; padding-bottom: 1em;
      border-bottom: 1px solid #e5e5e5;
    }
    .question {
      font-weight: 550; margin-bottom: 0.5em;
      margin-top: 0.7em;
    }
    .options label {
      display: block; background: #f0f7fa;
      margin: 0.33em 0; padding: 0.62em 1em;
      border-radius: 5px; cursor: pointer;
      border: 1px solid transparent; transition: background 0.2s, border 0.2s;
    }
    .options input[type="radio"] {
      accent-color: #2566bf; margin-right: 0.7em;
    }
    .options label.selected {
      background: #d1eaff; border: 1px solid #2566bf;
    }
    .feedback {
      margin-top: 0.7em;
      padding: 0.7em 1em;
      border-radius: 5px;
      font-size: 1.04em; font-weight: 500;
      display: none;
    }
    .feedback.correct {
      background: #e3fae2; color: #26734d; border: 1px solid #6cd48a; display: block;
    }
    .feedback.incorrect {
      background: #ffeaea; color: #bc2d2d; border: 1px solid #ffb2b2; display: block;
    }
    .score-summary {
      text-align: center;
      margin-top: 2em;
      background: #f0f7fa;
      padding: 1.5em 0.5em;
      border-radius: 8px;
      font-size: 1.13em;
    }
    .next-section-link {
      display: inline-block;
      margin: 2em auto 0 auto;
      font-size: 1.18em;
      background: #2e7dcc;
      color: #fff;
      padding: 0.7em 1.2em;
      border-radius: 5px;
      text-decoration: none;
      transition: background 0.2s;
    }
    .next-section-link:hover {
      background: #1b518e;
    }
    .restart-btn {
      display: inline-block;
      margin-top: 1.2em;
      background: #e0e0e0;
      color: #1c3556;
      padding: 0.6em 1.1em;
      border-radius: 5px;
      cursor: pointer;
      text-decoration: none;
      border: none;
      font-size: 1em;
      transition: background 0.2s;
    }
    .restart-btn:hover {
      background: #bcd2e6;
    }
    .section-links {
      margin-top: 2em; text-align: center;
    }
    .section-links a {
      margin: 0 0.6em;
      color: #2566bf;
      text-decoration: underline;
      font-size: 0.99em;
    }
    @media (max-width: 650px) {
      .container { padding: 1em 0.2em; }
      h1, h2 { font-size: 1.15em; }
      .question { font-size: 1em; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>SSAT Upper Level Practice — Quantitative (Math)</h1>
    <div class="instructions">
      <b>Directions:</b> Select the best answer for each question. Click an answer for instant feedback and an explanation. At the end, you'll see your score.
    </div>

    <div id="math-content"></div>

    <div class="score-summary" style="display:none;" id="math-score-summary">
      <div id="score-text"></div>
      <a href="ssat-verbal.html" class="next-section-link" style="margin-bottom:0.8em;">Go to Verbal Section</a>
      <a href="ssat-reading.html" class="next-section-link" style="background:#4a9c2b;margin-bottom:0.8em;">Go to Reading Section</a>
      <button class="restart-btn" onclick="window.location.reload()">Restart Math Section</button>
    </div>

    <div class="section-links">
      <a href="ssat-verbal.html">Back to Verbal</a> |
      <a href="ssat-reading.html">Back to Reading</a>
    </div>
  </div>
  <script>
    // Each option will get a unique id for robust checking
    const mathQuestions = [
      // 1-10: Algebra, multi-step equations, exponents
      {
        q: "1. If 2x + 3 = 17, what is the value of x?",
        options: ["5", "6", "7", "8"],
        correct: 2,
        explanation: "2x + 3 = 17 ⇒ 2x = 14 ⇒ x = 7."
      },
      {
        q: "2. Solve for x: 3(x - 4) = 2x + 5",
        options: ["1", "9", "-7", "17"],
        correct: 3,
        explanation: "3x - 12 = 2x + 5 ⇒ 3x - 2x = 5 + 12 ⇒ x = 17."
      },
      {
        q: "3. What is the value of 2^4 × 2^3?",
        options: ["14", "32", "128", "64"],
        correct: 2,
        explanation: "2^4 × 2^3 = 2^7 = 128."
      },
      {
        q: "4. If 4x - 7 = 25, then x = ?",
        options: ["8", "6", "4", "12"],
        correct: 0,
        explanation: "4x = 32 ⇒ x = 8."
      },
      {
        q: "5. If x^2 = 49, what is x?",
        options: ["7", "-7", "Both 7 and -7", "0"],
        correct: 2,
        explanation: "x = ±7."
      },
      {
        q: "6. Simplify: (x^3)(x^2)",
        options: ["x^5", "x^6", "x^9", "x^8"],
        correct: 0,
        explanation: "Add exponents: x^3 × x^2 = x^(3+2) = x^5."
      },
      {
        q: "7. If 5x + 7 = 2x + 28, what is x?",
        options: ["7", "8", "9", "10"],
        correct: 0,
        explanation: "5x + 7 = 2x + 28 ⇒ 3x = 21 ⇒ x = 7."
      },
      {
        q: "8. Which value of x satisfies the equation x^2 - 10x + 21 = 0?",
        options: ["3", "7", "Both 3 and 7", "21"],
        correct: 2,
        explanation: "x^2 - 10x + 21 = (x-3)(x-7) = 0 ⇒ x=3 or x=7."
      },
      {
        q: "9. If 4^x = 16, what is x?",
        options: ["2", "3", "4", "5"],
        correct: 0,
        explanation: "4^x = 16 ⇒ 4^2 = 16 ⇒ x = 2."
      },
      {
        q: "10. Simplify: (2x^2y) × (3xy^2)",
        options: ["6x^3y^3", "5x^3y^2", "6x^2y^3", "5x^2y^2"],
        correct: 0,
        explanation: "Multiply coefficients and add exponents: 2×3=6, x^2×x=x^3, y×y^2=y^3."
      },

      // 11-20: Fractions, ratios, percentages, multi-step word problems
      {
        q: "11. What is 60% of 250?",
        options: ["150", "125", "200", "180"],
        correct: 0,
        explanation: "0.60 × 250 = 150."
      },
      {
        q: "12. If 1/3 of a number is 9, what is the number?",
        options: ["18", "27", "21", "24"],
        correct: 1,
        explanation: "x/3 = 9 ⇒ x = 27."
      },
      {
        q: "13. A recipe calls for flour and sugar in a 5:2 ratio. If there are 35 cups of flour, how many cups of sugar are needed?",
        options: ["7", "10", "12", "14"],
        correct: 3,
        explanation: "5:2 = 35:x ⇒ 5x = 70 ⇒ x = 14."
      },
      {
        q: "14. If the price of a $50 item is increased by 30%, what is the new price?",
        options: ["$65", "$60", "$55", "$80"],
        correct: 0,
        explanation: "$50 × 1.3 = $65."
      },
      {
        q: "15. If a shirt is regularly $48 and is on sale for 25% off, what is the sale price?",
        options: ["$36", "$40", "$42", "$44"],
        correct: 0,
        explanation: "$48 × 0.75 = $36."
      },
      {
        q: "16. A car travels 120 miles in 2 hours and 30 minutes. What is the average speed in miles per hour?",
        options: ["40", "45", "48", "50"],
        correct: 2,
        explanation: "2.5 hours: 120 ÷ 2.5 = 48 mph."
      },
      {
        q: "17. If 5/8 of a number is 40, what is the number?",
        options: ["50", "52", "60", "64"],
        correct: 3,
        explanation: "5/8 × x = 40 ⇒ x = 40 × 8 ÷ 5 = 64."
      },
      {
        q: "18. A store sells pens in packs of 8 for $5. How much would 40 pens cost?",
        options: ["$20", "$24", "$25", "$30"],
        correct: 2,
        explanation: "40 ÷ 8 = 5 packs × $5 = $25."
      },
      {
        q: "19. What percent of 80 is 20?",
        options: ["10%", "15%", "25%", "50%"],
        correct: 2,
        explanation: "20 ÷ 80 = 0.25 = 25%."
      },
      {
        q: "20. If 40% of a number is 60, what is the number?",
        options: ["120", "150", "180", "200"],
        correct: 1,
        explanation: "0.4x = 60 ⇒ x = 150."
      },

      // 21-30: Geometry, area, perimeter, angles, volume, coordinate plane
      {
        q: "21. What is the area of a triangle with base 10 cm and height 12 cm?",
        options: ["60", "120", "48", "72"],
        correct: 0,
        explanation: "Area = 1/2 × base × height = 1/2 × 10 × 12 = 60 cm²."
      },
      {
        q: "22. The sum of the interior angles of a pentagon is:",
        options: ["360°", "540°", "720°", "900°"],
        correct: 1,
        explanation: "(n-2)×180 = (5-2)×180 = 540°."
      },
      {
        q: "23. What is the volume of a rectangular box 4 cm × 5 cm × 6 cm?",
        options: ["120", "100", "90", "80"],
        correct: 0,
        explanation: "Volume = 4×5×6 = 120 cm³."
      },
      {
        q: "24. What is the length of the diagonal of a rectangle with sides 6 and 8?",
        options: ["10", "12", "14", "15"],
        correct: 0,
        explanation: "Diagonal = √(6² + 8²) = √(36+64) = √100 = 10."
      },
      {
        q: "25. What is the distance between points (3,4) and (0,0)?",
        options: ["3", "4", "5", "7"],
        correct: 2,
        explanation: "Distance = √(3² + 4²) = √9+16 = √25 = 5."
      },
      {
        q: "26. A circle has a diameter of 10 cm. What is its circumference? (Use π ≈ 3.14)",
        options: ["15.7", "31.4", "62.8", "78.5"],
        correct: 1,
        explanation: "C = πd = 3.14 × 10 = 31.4 cm."
      },
      {
        q: "27. If the perimeter of a square is 36 cm, what is the length of one side?",
        options: ["6", "8", "9", "12"],
        correct: 2,
        explanation: "Perimeter = 4 × side ⇒ 36/4 = 9 cm."
      },
      {
        q: "28. The area of a circle with radius 7 cm is:",
        options: ["49π", "14π", "21π", "28π"],
        correct: 0,
        explanation: "Area = πr² = π×7² = 49π."
      },
      {
        q: "29. Which point lies on the line y = 2x + 1?",
        options: ["(2,5)", "(1,1)", "(0,2)", "(3,8)"],
        correct: 0,
        explanation: "y = 2×2 + 1 = 5, so (2,5) is on the line."
      },
      {
        q: "30. In a right triangle, if one leg is 9 cm and the other is 12 cm, what is the length of the hypotenuse?",
        options: ["15", "13", "12", "10"],
        correct: 0,
        explanation: "Hypotenuse = √(9²+12²)=√(81+144)=√225=15 cm."
      },

      // 31-40: More algebra, inequalities, functions, sequences
      {
        q: "31. If f(x) = 2x + 5, what is f(3)?",
        options: ["6", "8", "11", "13"],
        correct: 2,
        explanation: "f(3) = 2×3 + 5 = 11."
      },
      {
        q: "32. If 3x - 4 > 8, what is the smallest integer value of x?",
        options: ["3", "4", "5", "6"],
        correct: 2,
        explanation: "3x > 12 ⇒ x > 4; smallest integer is 5."
      },
      {
        q: "33. If a sequence starts 2, 6, 18, 54, ..., what is the 5th term?",
        options: ["108", "162", "216", "324"],
        correct: 1,
        explanation: "Multiply by 3 each time: 54×3=162."
      },
      {
        q: "34. If x^2 = 81, x > 0, what is x?",
        options: ["8", "9", "-9", "81"],
        correct: 1,
        explanation: "x = 9 (since x>0)."
      },
      {
        q: "35. If 2x + 5y = 24 and x = 2, what is y?",
        options: ["4", "5", "6", "7"],
        correct: 0,
        explanation: "2×2+5y=24→4+5y=24→5y=20→y=4."
      },
      {
        q: "36. The sum of the first five positive even numbers is:",
        options: ["20", "30", "40", "50"],
        correct: 1,
        explanation: "2+4+6+8+10=30."
      },
      {
        q: "37. If x < 2 and x > -1, which could be x?",
        options: ["-2", "2", "1", "3"],
        correct: 2,
        explanation: "1 is between -1 and 2."
      },
      {
        q: "38. If f(x) = x^2 - 3x, what is f(4)?",
        options: ["4", "8", "12", "28"],
        correct: 0,
        explanation: "4^2 - 3×4 = 16 - 12 = 4."
      },
      {
        q: "39. Which number is a solution to the inequality 2x + 1 ≤ 7?",
        options: ["4", "5", "3", "6"],
        correct: 2,
        explanation: "2×3+1=7, so x=3 works."
      },
      {
        q: "40. What is the 8th term of the sequence: 1, 4, 7, 10, ...?",
        options: ["19", "21", "22", "24"],
        correct: 2,
        explanation: "Each term increases by 3: 1+3×(8-1)=1+21=22."
      },

      // 41-50: Probability, data analysis, advanced word problems, number properties
      {
        q: "41. What is the probability of drawing a red card from a standard deck of 52 cards?",
        options: ["1/2", "1/4", "1/13", "1/26"],
        correct: 0,
        explanation: "26 red cards out of 52; 26/52=1/2."
      },
      {
        q: "42. If the mean of 6, 8, 12, and x is 10, what is x?",
        options: ["10", "12", "14", "16"],
        correct: 2,
        explanation: "(6+8+12+x)/4=10→26+x=40→x=14."
      },
      {
        q: "43. What is the median of 7, 2, 9, 5, 11?",
        options: ["5", "7", "9", "11"],
        correct: 1,
        explanation: "Order: 2,5,7,9,11. Median is 7."
      },
      {
        q: "44. If a fair die is rolled, what is the probability of rolling an even number?",
        options: ["1/2", "1/3", "1/4", "1/6"],
        correct: 0,
        explanation: "3 even out of 6: 3/6=1/2."
      },
      {
        q: "45. What is the greatest common factor (GCF) of 36 and 48?",
        options: ["6", "8", "12", "24"],
        correct: 2,
        explanation: "36: 1,2,3,4,6,9,12,18,36; 48: 1,2,3,4,6,8,12,16,24,48; GCF=12."
      },
      {
        q: "46. A bag contains 3 red, 5 blue, and 2 green marbles. What is the probability of drawing a blue marble?",
        options: ["1/2", "1/3", "1/5", "1/10"],
        correct: 0,
        explanation: "Total: 10; blue: 5/10=1/2."
      },
      {
        q: "47. What is the mode of the set {2, 3, 5, 5, 7, 8, 8, 8, 9}?",
        options: ["5", "7", "8", "9"],
        correct: 2,
        explanation: "8 appears most often."
      },
      {
        q: "48. The difference between the largest and smallest number in the set {4, 8, 15, 16, 23, 42} is:",
        options: ["38", "39", "40", "42"],
        correct: 0,
        explanation: "42 - 4 = 38."
      },
      {
        q: "49. If 2x + y = 10 and x - y = 2, what is the value of x?",
        options: ["2", "3", "4", "5"],
        correct: 2,
        explanation: "Solve: x - y = 2 ⇒ y = x - 2; 2x + (x-2) = 10 ⇒ 3x = 12 ⇒ x = 4."
      },
      {
        q: "50. What is the sum of the first 10 positive integers?",
        options: ["45", "50", "55", "60"],
        correct: 2,
        explanation: "Sum = n(n+1)/2 = 10×11/2 = 55."
      }
    ];

    // SHUFFLE OPTIONS ON LOAD, but keep track of correct index after shuffling
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function renderMath() {
      const container = document.getElementById("math-content");
      mathQuestions.forEach((item, idx) => {
        const qid = "q" + (idx + 1);
        const qDiv = document.createElement("div");
        qDiv.className = "question-block";
        qDiv.id = qid;

        const qText = document.createElement("div");
        qText.className = "question";
        qText.innerHTML = item.q;
        qDiv.appendChild(qText);

        // Assign an unique id to each option (by index in original array)
        let optionObjs = item.options.map((opt, i) => ({
          text: opt,
          origIndex: i
        }));
        shuffle(optionObjs);

        // Find which index in the shuffled array is the correct answer
        let correctShuffledIndex = optionObjs.findIndex(opt => opt.origIndex === item.correct);

        // Options
        const optionsDiv = document.createElement("div");
        optionsDiv.className = "options";
        optionObjs.forEach((opt, i) => {
          const label = document.createElement("label");
          const radio = document.createElement("input");
          radio.type = "radio";
          radio.name = qid;
          radio.value = i; // Use shuffled index value!
          label.appendChild(radio);
          label.appendChild(document.createTextNode(opt.text));
          optionsDiv.appendChild(label);
        });
        qDiv.appendChild(optionsDiv);

        // Feedback
        const feedbackDiv = document.createElement("div");
        feedbackDiv.className = "feedback";
        qDiv.appendChild(feedbackDiv);

        container.appendChild(qDiv);

        // Save answer key for scoring (by index after shuffle!)
        answerKey[qid] = {correct: correctShuffledIndex, explanation: item.explanation};
      });
    }

    // Answer key for scoring
    const answerKey = {};
    renderMath();

    // Instant feedback & scoring
    let score = 0, total = mathQuestions.length, answered = 0;
    document.querySelectorAll('.question-block').forEach(function(block) {
      const qid = block.id;
      const options = block.querySelectorAll('input[type="radio"]');
      options.forEach(function(option) {
        option.addEventListener('change', function() {
          block.querySelectorAll('label').forEach(label => label.classList.remove('selected'));
          option.parentElement.classList.add('selected');
          const feedbackDiv = block.querySelector('.feedback');
          const ans = answerKey[qid];
          if (!ans) return;
          if (Number(option.value) === ans.correct) {
            feedbackDiv.textContent = "Correct! " + ans.explanation;
            feedbackDiv.className = "feedback correct";
            if (!block.dataset.answered) {
              score++;
              block.dataset.answered = "1";
              answered++;
            }
          } else {
            feedbackDiv.textContent = "Incorrect. " + ans.explanation;
            feedbackDiv.className = "feedback incorrect";
            if (!block.dataset.answered) {
              block.dataset.answered = "1";
              answered++;
            }
          }
          feedbackDiv.style.display = "block";
          options.forEach(o => o.disabled = true);
          if (answered === total) {
            document.getElementById("math-score-summary").style.display = "block";
            document.getElementById("score-text").innerHTML =
              `<b>Your Math score: ${score} / ${total}</b><br>Scroll down for section links.`;
            window.scrollTo({top:document.body.scrollHeight, behavior:'smooth'});
          }
        });
      });
    });
  </script>
</body>
</html>
